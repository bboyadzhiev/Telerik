-- MySQL Script generated by MySQL Workbench
-- 08/20/14 23:02:51
-- Model: New Model    Version: 1.0
SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema universitydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `universitydb` DEFAULT CHARACTER SET latin1 ;
USE `universitydb` ;

-- -----------------------------------------------------
-- Table `universitydb`.`faculties`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`faculties` (
  `faculty_id` INT(11) NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`faculty_id`),
  UNIQUE INDEX `idFaculties_UNIQUE` (`faculty_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `universitydb`.`departments`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`departments` (
  `department_id` INT(11) NOT NULL,
  `department_name` VARCHAR(45) NOT NULL,
  `faculty_id` INT(11) NOT NULL,
  PRIMARY KEY (`department_id`),
  UNIQUE INDEX `departmentid_UNIQUE` (`department_id` ASC),
  INDEX `faculty_id_idx` (`faculty_id` ASC),
  CONSTRAINT `faculty_id`
    FOREIGN KEY (`faculty_id`)
    REFERENCES `universitydb`.`faculties` (`faculty_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `universitydb`.`persons`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`persons` (
  `person_id` INT(11) NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`person_id`),
  UNIQUE INDEX `person_id_UNIQUE` (`person_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `universitydb`.`students`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`students` (
  `faculty_number` INT(11) NOT NULL,
  `faculty_id` INT(11) NOT NULL,
  `student_id` INT(11) NOT NULL,
  PRIMARY KEY (`student_id`),
  INDEX `fk_students_faculties1_idx` (`faculty_id` ASC),
  INDEX `fk_students_persons1_idx` (`student_id` ASC),
  CONSTRAINT `fk_students_faculties1`
    FOREIGN KEY (`faculty_id`)
    REFERENCES `universitydb`.`faculties` (`faculty_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_students_persons1`
    FOREIGN KEY (`student_id`)
    REFERENCES `universitydb`.`persons` (`person_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `universitydb`.`titles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`titles` (
  `title_id` INT(11) NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`title_id`),
  UNIQUE INDEX `title_id_UNIQUE` (`title_id` ASC))
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `universitydb`.`lecturers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`lecturers` (
  `lecturer_id` INT(11) NOT NULL,
  PRIMARY KEY (`lecturer_id`),
  INDEX `fk_lecturers_persons1_idx` (`lecturer_id` ASC),
  CONSTRAINT `fk_lecturers_persons1`
    FOREIGN KEY (`lecturer_id`)
    REFERENCES `universitydb`.`persons` (`person_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `universitydb`.`lecturers_titles`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`lecturers_titles` (
  `lecturers_lecturer_id` INT(11) NOT NULL,
  `titles_title_id` INT(11) NOT NULL,
  PRIMARY KEY (`lecturers_lecturer_id`, `titles_title_id`),
  INDEX `fk_lecturers_titles_titles1_idx` (`titles_title_id` ASC),
  CONSTRAINT `fk_lecturers_titles_lecturers1`
    FOREIGN KEY (`lecturers_lecturer_id`)
    REFERENCES `universitydb`.`lecturers` (`lecturer_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_lecturers_titles_titles1`
    FOREIGN KEY (`titles_title_id`)
    REFERENCES `universitydb`.`titles` (`title_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `universitydb`.`courses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`courses` (
  `course_id` INT NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`course_id`),
  UNIQUE INDEX `course_id_UNIQUE` (`course_id` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `universitydb`.`courses_students`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`courses_students` (
  `students_student_id` INT(11) NOT NULL,
  `courses_course_id` INT NOT NULL,
  PRIMARY KEY (`students_student_id`, `courses_course_id`),
  INDEX `fk_courses_students_courses1_idx` (`courses_course_id` ASC),
  CONSTRAINT `fk_courses_students_students1`
    FOREIGN KEY (`students_student_id`)
    REFERENCES `universitydb`.`students` (`student_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_courses_students_courses1`
    FOREIGN KEY (`courses_course_id`)
    REFERENCES `universitydb`.`courses` (`course_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `universitydb`.`lecturers_courses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`lecturers_courses` (
  `courses_course_id` INT NOT NULL,
  `lecturers_lecturer_id` INT(11) NOT NULL,
  PRIMARY KEY (`courses_course_id`, `lecturers_lecturer_id`),
  INDEX `fk_lecturers_courses_courses1_idx` (`courses_course_id` ASC),
  INDEX `fk_lecturers_courses_lecturers1_idx` (`lecturers_lecturer_id` ASC),
  CONSTRAINT `fk_lecturers_courses_courses1`
    FOREIGN KEY (`courses_course_id`)
    REFERENCES `universitydb`.`courses` (`course_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_lecturers_courses_lecturers1`
    FOREIGN KEY (`lecturers_lecturer_id`)
    REFERENCES `universitydb`.`lecturers` (`lecturer_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `universitydb`.`departments_lecturers`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`departments_lecturers` (
  `departments_department_id` INT(11) NOT NULL,
  `lecturers_lecturer_id` INT(11) NOT NULL,
  PRIMARY KEY (`departments_department_id`, `lecturers_lecturer_id`),
  INDEX `fk_departments_lecturers_lecturers1_idx` (`lecturers_lecturer_id` ASC),
  CONSTRAINT `fk_departments_lecturers_departments1`
    FOREIGN KEY (`departments_department_id`)
    REFERENCES `universitydb`.`departments` (`department_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_departments_lecturers_lecturers1`
    FOREIGN KEY (`lecturers_lecturer_id`)
    REFERENCES `universitydb`.`lecturers` (`lecturer_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `universitydb`.`departments_courses`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `universitydb`.`departments_courses` (
  `departments_department_id` INT(11) NOT NULL,
  `courses_course_id` INT NOT NULL,
  INDEX `fk_departments_courses_departments1_idx` (`departments_department_id` ASC),
  PRIMARY KEY (`courses_course_id`, `departments_department_id`),
  CONSTRAINT `fk_departments_courses_departments1`
    FOREIGN KEY (`departments_department_id`)
    REFERENCES `universitydb`.`departments` (`department_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_departments_courses_courses1`
    FOREIGN KEY (`courses_course_id`)
    REFERENCES `universitydb`.`courses` (`course_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
